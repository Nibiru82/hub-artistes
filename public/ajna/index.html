<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ajna : L'Exploration Interactive</title>
    <meta name="description" content="Explorez l'univers introspectif et spirituel du rappeur Ajna, entre cloud rap et poésie mélancolique.">
    <meta name="keywords" content="Ajna, rap fr, Boys & Basement, GOLDMAKER, L'HERMITE, SHERPA, cloud rap">
    
    <link rel="icon" type="image/png" href="nibiru logo rap site.png">

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #171717; /* neutral-900 */
            color: #E5E5E5; /* neutral-200 */
        }
        .nav-link {
            position: relative;
            transition: color 0.3s;
        }
        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -4px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #FBBF24; /* amber-400 */
            transition: width 0.3s;
        }
        .nav-link.active, .nav-link:hover {
            color: #FBBF24; /* amber-400 */
        }
        .nav-link.active::after, .nav-link:hover::after {
            width: 100%;
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -1px;
            top: 2rem;
            width: 2px;
            height: calc(100% - 2rem);
            background-color: #404040; /* neutral-700 */
        }
        .timeline-item:last-child::before {
            display: none;
        }
        .timeline-dot {
            position: absolute;
            left: -8px;
            top: 2rem;
            width: 18px;
            height: 18px;
            background-color: #171717;
            border: 3px solid #FBBF24; /* amber-400 */
            border-radius: 50%;
            z-index: 10;
        }
        .loader {
            border: 2px solid #525252; /* neutral-600 */
            border-top: 2px solid #FBBF24; /* amber-400 */
            border-radius: 50%;
            width: 16px;
            height: 16px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .gemini-btn {
            background-image: linear-gradient(to right, #F59E0B, #FBBF24);
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-black/50 backdrop-blur-md sticky top-0 z-50 shadow-lg shadow-black/20">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <h1 class="text-2xl font-black tracking-tighter text-white">AJNA</h1>
            <div id="nav-links" class="hidden md:flex items-center space-x-8 text-sm font-semibold uppercase tracking-wider text-neutral-400">
                <a href="#introduction" data-section="introduction" class="nav-link active">Introduction</a>
                <a href="#parcours" data-section="parcours" class="nav-link">Parcours</a>
                <a href="#univers" data-section="univers" class="nav-link">Univers</a>
                <a href="#sonorites" data-section="sonorites" class="nav-link">Sonorités</a>
            </div>
             <button id="mobile-menu-button" class="md:hidden text-neutral-200">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
            </button>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden bg-neutral-900 p-4">
             <a href="#introduction" data-section="introduction" class="block py-2 text-center nav-link-mobile">Introduction</a>
             <a href="#parcours" data-section="parcours" class="block py-2 text-center nav-link-mobile">Parcours</a>
             <a href="#univers" data-section="univers" class="block py-2 text-center nav-link-mobile">Univers</a>
             <a href="#sonorites" data-section="sonorites" class="block py-2 text-center nav-link-mobile">Sonorités</a>
        </div>
    </header>

    <main class="container mx-auto px-6 py-8 md:py-16">

        <section id="introduction" class="content-section active">
            <div class="text-center max-w-4xl mx-auto">
                <h2 class="text-4xl md:text-6xl font-black tracking-tighter text-white leading-tight">LE TROISIÈME ŒIL DU RAP</h2>
                <p class="mt-4 text-lg md:text-xl text-neutral-400">Un voyage à travers la conscience, où la musique devient une quête spirituelle.</p>
                <div class="mt-12 bg-neutral-800/50 p-8 rounded-xl shadow-lg border border-neutral-700">
                    <p class="text-2xl md:text-3xl font-semibold italic text-amber-300">« J'ai vu le monde avec le troisième œil, c'est p't-être pour ça qu'autour de moi tout est sombre. »</p>
                    <p class="mt-2 text-sm text-neutral-500">- Inspiré de son univers</p>
                </div>
                <div class="mt-12 text-left text-base text-neutral-300 leading-relaxed space-y-4">
                    <p>Ajna, dont le nom fait directement référence au sixième chakra principal de l'hindouisme, le "troisième œil", est un artiste qui place l'introspection et la spiritualité au centre de sa démarche. Sa musique est une invitation à un voyage intérieur, naviguant entre des thèmes comme le destin (*mektoub*), la dualité et la quête de soi.</p>
                    <p>Cette page interactive vous propose de décoder les symboles de son univers. Explorez son parcours, analysez les concepts fondamentaux qui nourrissent ses textes grâce à l'IA, et visualisez la signature sonore unique qui le définit.</p>
                </div>
            </div>
        </section>

        <section id="parcours" class="content-section">
             <div class="text-center max-w-3xl mx-auto">
                <h2 class="text-4xl md:text-5xl font-black tracking-tighter text-white">Parcours</h2>
                <p class="mt-4 text-lg text-neutral-400">Une chronologie de l'éveil artistique d'Ajna. Cliquez sur un projet pour l'explorer et générer une analyse par l'IA.</p>
            </div>
            <div class="mt-16 max-w-5xl mx-auto">
                <div id="timeline" class="relative border-l-2 border-neutral-700 ml-4 py-4"></div>
                <div id="timeline-details" class="mt-8"></div>
            </div>
        </section>

        <section id="univers" class="content-section">
            <div class="text-center max-w-3xl mx-auto">
                <h2 class="text-4xl md:text-5xl font-black tracking-tighter text-white">L'Univers Symbolique</h2>
                <p class="mt-4 text-lg text-neutral-400">Plongez au cœur des concepts qui façonnent la musique d'Ajna. Cliquez sur un thème pour en lire l'explication, puis utilisez l'IA pour une analyse plus profonde.</p>
            </div>
            <div id="univers-grid" class="mt-16 grid grid-cols-1 md:grid-cols-2 gap-8">
                 </div>
        </section>

        <section id="sonorites" class="content-section">
             <div class="text-center max-w-3xl mx-auto">
                <h2 class="text-4xl md:text-5xl font-black tracking-tighter text-white">Signature Sonore</h2>
                <p class="mt-4 text-lg text-neutral-400">La palette sonore d'Ajna est un mélange éthéré de cloud rap, de productions lofi et de mélodies planantes, créant une atmosphère propice à l'introspection.</p>
            </div>
            <div class="mt-16 grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                <div class="space-y-6">
                    <div>
                        <h3 class="text-2xl font-bold text-amber-400">Le Cloud Rap Contemplatif</h3>
                        <p class="mt-2 text-neutral-300 leading-relaxed">Le style principal d'Ajna s'ancre dans le cloud rap. Il privilégie les productions atmosphériques, vaporeuses et souvent minimalistes. Ces nappes sonores servent d'écrin à un flow posé, presque murmuré, qui guide l'auditeur dans une réflexion sur le temps, le destin et les sentiments.</p>
                    </div>
                     <div>
                        <h3 class="text-2xl font-bold text-amber-400">L'Énergie du Mektoub</h3>
                        <p class="mt-2 text-neutral-300 leading-relaxed">Sur des titres comme <span class="font-bold text-white">Mektoub</span>, l'énergie change. Si le fond reste mélancolique, le rythme se fait plus affirmé, la voix plus assurée. C'est l'expression d'une prise de conscience, d'une acceptation du destin non pas comme une fatalité, mais comme une force avec laquelle composer.</p>
                    </div>
                </div>
                <div>
                     <div class="chart-container" style="position: relative; height:60vh; width:80vw; max-width: 500px;">
                        <canvas id="styleChart"></canvas>
                    </div>
                    <p class="text-center text-sm text-neutral-500 mt-4">Comparaison des palettes sonores entre le style "Contemplatif" et "Mektoub".</p>
                </div>
            </div>
        </section>

    </main>

    <footer class="text-center py-8 mt-16 border-t border-neutral-800">
        <p class="text-sm text-neutral-500">Une exploration interactive de l'univers d'Ajna.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // C'est le proxy qui fonctionne pour toi, on le garde !
            async function fetchFromGemini(prompt) {
                try {
                    const response = await fetch('/api/gemini-proxy', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ prompt: prompt })
                    });
                    if (!response.ok) {
                       const errorData = await response.json();
                       throw new Error(`Erreur du serveur proxy: ${errorData.error?.message || response.statusText}`);
                    }
                    return await response.json();
                } catch (error) {
                    console.error("Erreur d'appel à l'API Gemini:", error);
                    return { error: `Une erreur est survenue lors de la connexion à l'IA. Détails: ${error.message}` };
                }
            }
            
            async function generateAndDisplay(button, outputDiv, prompt) {
                button.disabled = true;
                outputDiv.style.display = 'block';
                outputDiv.innerHTML = '<div class="flex items-center gap-2"><div class="loader"></div><span>Analyse en cours...</span></div>';

                const result = await fetchFromGemini(prompt);
                
                if (result.error) {
                    outputDiv.innerHTML = result.error;
                } else if (result.candidates && result.candidates[0]?.content?.parts[0]?.text) {
                    outputDiv.innerHTML = result.candidates[0].content.parts[0].text.replace(/\n/g, '<br>');
                } else {
                    outputDiv.innerHTML = "Désolé, la réponse de l'IA est invalide ou vide.";
                }
                button.textContent = 'Analyse générée ✨';
            }


            const sections = document.querySelectorAll('.content-section');
            const navLinks = document.querySelectorAll('#nav-links .nav-link');
            const mobileNavLinks = document.querySelectorAll('#mobile-menu .nav-link-mobile');
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');

            // --- C'EST ICI LA MISE À JOUR IMPORTANTE ---
            // Données de la discographie d'Ajna, à jour et ordonnées.
            const timelineData = [
                { year: '2022', title: 'L\'HERMITE', type: 'Album', description: "Premier album qui établit son style introspectif et ses sonorités cloud rap. Un projet fondateur qui pose les bases de son univers." },
                { year: '2022', title: 'SHERPA', type: 'EP', description: "EP qui confirme sa productivité et affine son identité musicale, concluant une année de création intense avec des titres comme 'AJCENSION'." },
                { year: '2023', title: 'Boys & Basement', type: 'Album', description: "Album charnière qui le révèle à un plus large public. Les thèmes de la jeunesse parisienne, des doutes et des ambitions sont explorés sur des productions plus affirmées." },
                { year: '2024', title: 'GOLDMAKER', type: 'Album', description: "Un projet qui montre une nouvelle facette artistique, avec des sonorités parfois plus solaires et des thématiques tournées vers la réussite et la création." },
                { year: '2025', title: 'Before The Antidote', type: 'EP', description: "Dernier projet en date, cet EP de deux titres offre un aperçu de sa direction future, avec une production toujours aussi soignée et atmosphérique." }
            ];
            // --- FIN DE LA MISE À JOUR ---


            const universData = [
                {
                    title: "Le Chakra du Troisième Œil",
                    description: "Le nom 'Ajna' n'est pas anodin. Il désigne le sixième chakra, centre de l'intuition et de la conscience. Toute la musique d'Ajna est une tentative d'activer cette perception supérieure, de voir au-delà des apparences et de retranscrire une vérité intérieure. C'est la clé de voûte de son univers artistique.",
                    prompt: "En tant que spécialiste de symbologie, analyse en 3 phrases l'importance du concept de 'Chakra du Troisième Œil' dans l'œuvre du rappeur Ajna. Explique comment cela se traduit dans sa musique."
                },
                {
                    title: "Le Destin (Mektoub)",
                    description: "Le concept de 'Mektoub' (le destin, ce qui est écrit) est un fil rouge dans ses textes. Ajna ne le dépeint pas comme une fatalité écrasante, mais plutôt comme un dialogue constant entre ce qui est prédestiné et les choix personnels. C'est une source de questionnements profonds sur la vie, le temps et le sens de son parcours.",
                    prompt: "Explique en 3 phrases comment le rappeur Ajna aborde le thème du 'Mektoub' (Le Destin) dans sa musique. Est-ce une vision fataliste ou plus nuancée ?"
                }
            ];

            function switchSection(sectionId) {
                sections.forEach(s => s.classList.remove('active'));
                document.getElementById(sectionId)?.classList.add('active');
                navLinks.forEach(l => l.classList.toggle('active', l.dataset.section === sectionId));
            }

            function setupNav(links) {
                links.forEach(link => link.addEventListener('click', e => {
                    e.preventDefault();
                    switchSection(link.dataset.section);
                    if (!mobileMenu.classList.contains('hidden')) {
                        mobileMenu.classList.add('hidden');
                    }
                }));
            }

            setupNav(navLinks);
            setupNav(mobileNavLinks);
            mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));

            const timelineContainer = document.getElementById('timeline');
            const timelineDetailsContainer = document.getElementById('timeline-details');
            timelineData.forEach(item => {
                const timelineItem = document.createElement('div');
                timelineItem.className = 'timeline-item relative pl-8 pb-12 cursor-pointer';
                timelineItem.innerHTML = `<div class="timeline-dot"></div><p class="text-sm text-amber-500 font-semibold">${item.year}</p><h3 class="text-xl font-bold text-neutral-100">${item.title}</h3><p class="text-md text-neutral-400">${item.type}</p>`;
                timelineItem.addEventListener('click', () => {
                    timelineDetailsContainer.innerHTML = `<div class="bg-neutral-800 p-6 rounded-lg shadow-md border border-neutral-700"><h3 class="text-2xl font-bold text-white">${item.title} (${item.year})</h3><p class="mt-2 text-neutral-300">${item.description}</p><div class="mt-4"><button class="gemini-btn text-black px-4 py-2 rounded-md font-semibold hover:opacity-90 transition-opacity flex items-center gap-2">✨ Générer une analyse</button><div class="gemini-project-output mt-4 text-sm text-neutral-400 border-l-4 border-amber-400 pl-4" style="display: none;"></div></div></div>`;
                    const geminiBtn = timelineDetailsContainer.querySelector('.gemini-btn');
                    const outputDiv = timelineDetailsContainer.querySelector('.gemini-project-output');
                    geminiBtn.addEventListener('click', () => {
                        const prompt = `Rédige une courte analyse critique (environ 50-70 mots) du projet '${item.title}' du rappeur français Ajna, en te basant sur cette description : '${item.description}'. Mets en lumière son ambiance et ses thèmes.`;
                        generateAndDisplay(geminiBtn, outputDiv, prompt);
                    });
                });
                timelineContainer.appendChild(timelineItem);
            });
            if (timelineContainer.firstElementChild) timelineContainer.firstElementChild.click();

            const universGrid = document.getElementById('univers-grid');
            universData.forEach(item => {
                const card = document.createElement('div');
                card.className = 'bg-neutral-800 p-6 rounded-lg shadow-md border border-neutral-700';
                card.innerHTML = `<h3 class="text-2xl font-bold text-white">${item.title}</h3><p class="mt-2 text-neutral-300 leading-relaxed">${item.description}</p><div class="mt-4"><button class="gemini-btn text-black px-4 py-2 rounded-md font-semibold hover:opacity-90 transition-opacity flex items-center gap-2">✨ Analyser le concept</button><div class="gemini-univers-output mt-4 text-sm text-neutral-400 border-l-4 border-amber-400 pl-4" style="display: none;"></div></div>`;
                const geminiBtn = card.querySelector('.gemini-btn');
                const outputDiv = card.querySelector('.gemini-univers-output');
                geminiBtn.addEventListener('click', () => {
                    generateAndDisplay(geminiBtn, outputDiv, item.prompt);
                });
                universGrid.appendChild(card);
            });
            
            const ctx = document.getElementById('styleChart').getContext('2d');
            new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['Spirituel', 'Mélancolique', 'Éthéré', 'Lofi', 'Flow Affirmé', 'Introspectif'],
                    datasets: [
                        { label: 'Style Contemplatif', data: [9, 8, 9, 7, 4, 9], backgroundColor: 'rgba(251, 191, 36, 0.2)', borderColor: 'rgba(251, 191, 36, 1)', pointBackgroundColor: 'rgba(251, 191, 36, 1)', pointBorderColor: '#fff', borderWidth: 2 },
                        { label: 'Style Mektoub', data: [7, 7, 5, 6, 8, 8], backgroundColor: 'rgba(229, 231, 235, 0.2)', borderColor: 'rgba(229, 231, 235, 1)', pointBackgroundColor: 'rgba(229, 231, 235, 1)', pointBorderColor: '#fff', borderWidth: 2 }
                    ]
                },
                options: {
                    maintainAspectRatio: false,
                    responsive: true,
                    scales: { r: { angleLines: { color: 'rgba(255, 255, 255, 0.2)' }, grid: { color: 'rgba(255, 255, 255, 0.2)' }, pointLabels: { font: { size: 12, weight: 'bold' }, color: '#D1D5DB' }, ticks: { display: false, backdropColor: 'transparent' } } },
                    plugins: { legend: { labels: { color: '#D1D5DB', font: { size: 14 } } } }
                }
            });

            switchSection('introduction');
        });
    </script>
</body>
</html>
